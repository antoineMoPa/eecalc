<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8">
    <meta> <!-- I'm so meta -->  
    <title>livecalc.xyz Collaborative Calculator </title>
    <link rel="stylesheet" href="/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <header>
      <div class="col-10 col">
        <h1 class="inline-block">
          <a href="https://livecalc.xyz">livecalc.xyz</a>
        </h1>
        <p class="inline-block livecalc-header">
          Github <a href="https://github.com/antoineMoPa/livecalc" target="_blank">project</a> | backend: math.js | syntax documentation:
          <a href="http://mathjs.org/docs/expressions/syntax.html" target="_blank">
            mathjs docs
          </a>
          |
          Version 0.0.6
        </p>
      </div>
      <div class="col-2 col text-right">
        <p>
          <a href="/new" class="new-sheet-button" target="_blank">New Sheet ‚úè</a>
        </p>
      </div>
    </header>

    <div class="main-page">
      <div class="landing only-landing">
        <h1 class="text-center">Welcome to livecalc.xyz</h1>
        <p class="text-center">
          livecalc.xyz is an open source collaborative calculator
          <br>
          <br>
          Create a <a href="/new" target="_blank">new sheet</a> to calculate stuff.  (You may also go to this public <a href="/sheet/demo">playground</a>).
          <br>
          Use the starter buttons at the bottom of a new sheet to inspire you.
          <br>
          Many users can edit a sheet at the same time.
          <br>
          Press enter to get the result and to share the line to other users.
          <br>
          Share the URL to your friends/classmates/colleagues to edit a sheet together.
          <br>
          <br>
        </p>
        <div class="features">
          <div class="block-center">
            <h3>Features</h3>
            <p>
              <ul>
                <li>All math that you would expect from a calculator</li>
                <li>Function plots</li>
                <li>Real-time collaboration</li>
                <li>livecalc.xyz runs entirely in the browser thanks to math.js.</li>
                <li>A huge community of ~1 developer/user</li>
                <!-- lol -->
              </ul>
            </p>
          </div>
        </div>
        <p class="text-center">
          Contribute code & issues on <a href="https://github.com/antoineMoPa/livecalc" target="_blank">github</a>
          <br>
        </p>
      </div>

      <livecalc></livecalc>
      
      <br>  
      <p class="text-right">Licence:
        <a href="https://www.gnu.org/licenses/gpl-3.0.en.html"  target="_blank">
          GPLv3
        </a>
      </p>
    </div>
    
    <template name="small-doc">
      <div class="col-6 doc">
        <h3>How to use this?</h3>
        <p>
          Type math (example: <code>13*42*(3+32)/12</code>)<br>
          Data is saved when you press GO/Enter<br>
          Copy/Paste URL to share sheet<br>
          Backspace to delete an empty cell<br>
          Use semicolon (;) to write what you would write on many cells:<br>
          <code>a = 1; b=2; sin(a+b)</code>
          <br>
          Navigation: Tab/Shift+tab, arrows
          
        </p>
        <h3>Numbers</h3>
        <p>
          You can use the electrical engineering notation with numbers (n,u,m,k/K,meg/M,G)<br>
          ex: <code>1K</code> = 1000<br>
        </p>
        <h3>Constants</h3>
        <p>
          <code>pi</code>, <code>e</code> (Euler), <code>i</code> (sqrt(-1)), etc. <a href="http://mathjs.org/docs/reference/constants.html" target="_blank">mathjs constants</a>
        </p>
        <h3>Plots</h3>
        <p>
          You can plot an expression:<br>
          <code>plot("sin(x+0.5)")</code><br>
          <code>plot("e**x")</code>
        </p>

        <h3>Fractals</h3>
        <p>
          (warning: cpu intensive)
          <br>
          For this expression with 10 iteration and a size of 140 pixels:
          <br>
          Julia: <code>zfractal("z**2+0.4-0.05i",10,140)</code>
          <br>
          Mandelbrot: <code>zfractal("z**2+c",10,140)</code>
          <br>
          Cellular automaton: <code>rule(45)</code>
        </p>
      </div>
      <div class="col-6 doc">
        <h3>Math</h3>
        <p>
          <code>sin(3.14)</code><br>
          <code>sin(360deg)</code><br>
          <code>a = 30</code><br>
          <code>b = 3 * a</code><br>
          <code>b</code> (to show the value of 'b')<br>
        </p>
        <h3>Conversions</h3>
        <p>
          <code>3 meters to inches</code><br>
          <code>3 in to cm</code><br>
          <code>1 gal to L</code><br>
          <code>1 L to cm^3</code><br>
          <code>4 bytes in bits</code><br>
          <br>
        </p>
        <h3>Bonus</h3>
        <p>
          
          <code>a=1K; b=2K; LL(a,b)</code>:
          equivalent value of resistors in parallel.
        </p>
        
        <div class="starters">
          <h3>Starters</h3>
          (Warning: This will remove all your cells)
          <br>
          <div class="starter-buttons-container">
          </div>
        </div>
      </div>
    </template>
    
    <template name="single-field" data-params="label,class,default">
      <div class="single-field {{class}}">
        <h3>{{label}}</h3>
        <input value="{{default}}">
        <button>Confirm</button>
      </div>
    </template>

    <template name="livecalc-wait-click">
      <div class="livecalc-wait-click">
        <button class="livecalc-wait-click-button">View</button>
        <p>This might take some time to compute.</p>
      </div>
    </template>
    
    <template name="livecalc">
      <div class="livecalc">
        <div class="livecalc-header">
          <p class="sheet-state text-left">
          </p>
          <div class="user-count">
          </div>
        </div>
        <div class="livecalc-cells">
        </div>

        <template-instance
           data-name="sheet-panel">
        </template-instance>

        <template-instance
             data-name="single-field"
             data-label="Your nickname"
             data-class="nickname"
             data-default="anonymous">
        </template-instance>
        
        <template-instance
           data-name="small-doc">
        </template-instance>
      </div>
    </template>
    
    <template name="starter-button">
      <button class="inline-block">
      </button>
    </template>

    <template name="sheet-panel">
      <h3>Sheet Panel</h3>
      Lock sheet from further editing
      <br>
      <button name="lock-sheet">
        Lock Sheet
      </button>
      <br>
      Open a copy
      <br>
      <button name="new-copy">
        New Copy
      </button>

    </template>
    
    <template name="livecalc-cell">
      <div class="livecalc-cell">
        <fieldset>
          <div>
            <input type="text" class="inline-block livecalc-input"
                   placeholder="Type math">
            <button class="inline-block livecalc-go-button">
              Go
            </button>
            <pre class="livecalc-output">
            </pre>
          </div>
        </fieldset>
        <p class="users-info"></p>
        <div class="plot">
        </div>
      </div>
    </template>
    
    <div class="starter-scripts">
      <script name="clear" type="text/plain">
        {
        "title":"Clear Everything",
        "cells":[
        ""
        ]
        }
      </script>
      <script name="voltage-divider" type="text/plain">
        {
        "title":"Voltage Divider",
        "cells":[
        "ra = 20",
        "rb = 20",
        "vin = 10",
        "vout = ra * vin / (ra + rb)"
        ]
        }
      </script>
      <script name="rc-filter" type="text/plain">
        {
        "title":"RC Filter",
        "cells":[
        "r = 10K",
        "c = 1u",
        "f = 1 / (2 pi r c)"
        ]
        }
      </script>
      <script name="parallel-resistors" type="text/plain">
        {
        "title":"Parallel Resistors",
        "cells":[
        "LL(10K,5K)",
        "1/(1/10K + 1/5K)"
        ]
        }
      </script>
    </div>
    
    <script src="/lib/math.min.js"></script>
    <script src="/lib/d3.min.js" charset="utf-8"></script>
    <script src="/lib/function-plot.js" charset="utf-8"></script>
    <script src="/lib/socket.io.js"></script>
    <script src="/main.js"></script>
  </body>
</html>
